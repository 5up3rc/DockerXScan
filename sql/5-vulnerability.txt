-- Table: public.vulnerability

-- DROP TABLE public.vulnerability;

CREATE TABLE public.vulnerability
(
    id serial,
    namespace_id integer NOT NULL,
    name character varying(128) COLLATE pg_catalog."default" NOT NULL,
    description text COLLATE pg_catalog."default",
    link character varying(128) COLLATE pg_catalog."default",
    severity character varying(16) COLLATE pg_catalog."default" NOT NULL,
    metadata text COLLATE pg_catalog."default",
    created_at timestamp with time zone,
    deleted_at timestamp with time zone,
    CONSTRAINT vulnerability_pkey PRIMARY KEY (id),
    CONSTRAINT vulnerability_namespace_id_fkey FOREIGN KEY (namespace_id)
        REFERENCES public.namespace (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.vulnerability
    OWNER to postgres;

-- Index: vulnerability_name_idx

-- DROP INDEX public.vulnerability_name_idx;

CREATE INDEX vulnerability_name_idx
    ON public.vulnerability USING btree
    (name COLLATE pg_catalog."default")
    TABLESPACE pg_default;

-- Index: vulnerability_namespace_id_name_idx

-- DROP INDEX public.vulnerability_namespace_id_name_idx;

CREATE INDEX vulnerability_namespace_id_name_idx
    ON public.vulnerability USING btree
    (namespace_id, name COLLATE pg_catalog."default")
    TABLESPACE pg_default;